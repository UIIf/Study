Курсовая по теме: Создание прототипа игры на Unity

Unity:
	Unity - среда для разработки компьютерных игр. Одним из главных ее преимуществ является простота в использовании, а также межплатформенность. Поддерживаются более 20 платформ, от компьютеров под управлением Windows до интернет приложений.

	Unity обладает удобным и понятным drag\&drop интерфейсом. Основным языком программирования является C#. 

	Так же в Unity уже встроены удобные инструменты для работы с физикой, интерфейсом и даже работы с векторами.

Процесс создания прототипа:
	Создание прототипа нужно было организовать, для этого пришлось разбить весь процесс на группы. Изначально необходимо было разобратья с передвижением главного игрока, а так же работа с камерой, за тем следует процедурная генерация карты. Сделав карту, можно приступить к работе над противниками. И в конце приступить к стрельбе.

Движение камеры:
	В большенстве Top-down шутеров камера зафиксированна сверху, что делает мир игры плоским и невыделяющимся. По задумке камера будет передвигаться на определенном проценте растояния между игроком и прицелом. Таким образом даже стоя на одном месте можно будет увидеть карту с разных сорон.В тоже время, так как камеры будет предвигаться динамически, следственно, поле зрения игрока будет двигаться, нельзя допустить чтобы камера смещалась дальше определенного растояния, иначе можно будет улететь за край сгенерированной части карты.

Реализация:
	Создается плоскость паралельная полу, благодаря встроенной функции, выпускается луч из камеры и ищется точка пересечения луча и новой плоскости. Дальше точка обрабатывается, ограничивается.

	При добавлении оружия, была найдена интересная ошибка, стрельба идет от ствола к прицелу, но прицел может находиться к игроку ближе чем ствол, таким образом получится стрелять в самого себя. 

Строение квартир:
	Квартир состоят из различных элементов. Так же есть различные типы квартир обычные, и квартиры с оружием.

Реализация:
	Координаты всех объектов хрантся как числа с плавающей точкой, из за чего, если игрок будет идти в одном направлении через некоторое время он заметит что все вокруг начнет дергатся, чтобы это предотвратить необходимо было добавить ограничение, а именно, если квартира генерируется дальше определенной координаты все ее наружние стены будут сплошными.

Зрение противников:
	Необходимо было ограничить дальность зрения противников, так же добавить угол обзора, и минимально растояние, зайдя в которе противник отреагирует не обращая внимания на угол обзора

Реализация:
	Есть несколько путей реализации, например пускать n количество лучей во все стороны, но хоть они и нетребовательные, но это всеравно не лучший вариант. Мы прибегли к тому, что в каждый момент времиени противник знает где находится игрок, и пускает лучь только в карйних случаях.


Поведение противников:
	Было добавить какой-либо искуственный интелект. Мы решили ограничиться несколькими состояниями:
	патрулирование, приследование, осматривание и оглушение. При патрулировании, противник будет просто ходить по своему маршруту по квартире, при приследовании, будет идти до за игроком, осматривание же срабатывает когда противник только потерял игрока из виду, в этом состоянии он передвигается на точку где последний раз видил игрока.

Реализация:
	Каждый из противников должен проверять видит ли он игрока. В целях оптимизации, во время патрулирования, частота этой проверки уменьшается. Для этого в объекте который создает противников, хранится спиоск в котором хранится, какой противник и когда смотрит, это необходимо чтобы уменьшить одновременную нагрузку.

	При повялении противника, он проверят под собой пол, через него находит квартиру, а там выбирает один из существующих маршрутов. Из за того что это большая нагрузка, как и создание тех самых квартир, появление противников происходит через кадр после появления квартиры.

Оружие:
	Необходимо было добавить способ простого создания новых типов оружия. Так же важно помнить что выпавшие из противников орудия должно быть возможно поднимать.

Реализация:
	В игру было решено добавить оружие которое работает при помощи лучей, так как они быстро обрабатываются, еще лучше использовать маску, чтобы при проверке попадания, не обрабатывались декоративные предметы.

	При попадании, если объект является потомком класса гуманоид, он получает урон, внезависимости от того, главный герой это или же противник.

	Так же при выстреле создается вокруг ствола, на мнгновение создается сфера, все противники пересекающиеся с ней "слышат" выстрел и бегут на него включая состояние осмотр.

	Так же было решено добавить оглушение противника если игрок выкинет в него оружие.

Конец:
	Таким образом был создан протоип игры, в котором были реализованны
	1: Процедурная генерация карты
	2: Не сложный интелект противников
	3: Система стрельбы